<mat-sidenav-container class="sidenav-container h-100">
  <mat-sidenav mode="side" opened class="sidenav bg-light border-end">
    <div class="sidebar-header py-3 px-3 border-bottom">
      <h5 class="fw-bold m-0">Gestión</h5>
    </div>
    <mat-nav-list>
      <!-- Alumnos (solo admin) -->
      <ng-container *ngIf="userPerfil === 'admin'">
        <a
          mat-list-item
          routerLink="/alumnos/lista-alumnos"
          routerLinkActive="active-link"
          class="menu-item"
        >
          <i class="bi bi-people me-2"></i> Alumnos
        </a>
      </ng-container>

      <!-- Cursos (todos los usuarios pueden ver) -->
      <a
        mat-list-item
        routerLink="/cursos/lista-cursos"
        routerLinkActive="active-link"
        class="menu-item"
      >
        <i class="bi bi-book me-2"></i> Cursos
      </a>

      <!-- Clases (todos pueden ver) -->
      <a
        mat-list-item
        routerLink="/clases/lista-clases"
        routerLinkActive="active-link"
        class="menu-item"
      >
        <i class="bi bi-calendar me-2"></i> Clases
      </a>

      <!-- Inscripciones (todos pueden ver) -->
      <a
        mat-list-item
        routerLink="/inscripciones/lista-inscripciones"
        routerLinkActive="active-link"
        class="menu-item"
      >
        <i class="bi bi-journal-check me-2"></i> Inscripciones
      </a>

      <!-- Usuarios (solo admin) -->
      <ng-container *ngIf="userPerfil === 'admin'">
        <a
          mat-list-item
          routerLink="/usuarios/lista-usuarios"
          routerLinkActive="active-link"
          class="menu-item"
        >
          <i class="bi bi-person-badge me-2"></i> Usuarios
        </a>

        <!-- Menú de ABM (solo para admin) -->
        <ng-container *ngIf="userPerfil === 'admin'">
          <a
            mat-list-item
            routerLink="/alumnos/abm-alumnos"
            routerLinkActive="active-link"
            class="menu-item d-flex align-items-center"
          >
            <i class="bi bi-person-plus me-2"></i> ABM Alumnos
          </a>
          <a
            mat-list-item
            routerLink="/cursos/abm-cursos"
            routerLinkActive="active-link"
            class="menu-item d-flex align-items-center"
          >
            <i class="bi bi-plus-circle me-2"></i> ABM Cursos
          </a>
          <a
            mat-list-item
            routerLink="/clases/abm-clases"
            routerLinkActive="active-link"
            class="menu-item d-flex align-items-center"
          >
            <i class="bi bi-plus-circle me-2"></i> ABM Clases
          </a>
          <a
            mat-list-item
            routerLink="/inscripciones/abm-inscripciones"
            routerLinkActive="active-link"
            class="menu-item d-flex align-items-center"
          >
            <i class="bi bi-plus-circle me-2"></i> ABM Inscripciones
          </a>
        </ng-container>
      </ng-container>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Contenido principal -->
  <mat-sidenav-content class="w-100 p-0">
    <mat-toolbar color="primary" class="d-flex justify-content-between">
      <span class="fw-bold">Gestión de Cursos</span>

      <div class="d-flex align-items-center">
        <span *ngIf="userName" class="me-2">{{ userName }}</span>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <i class="bi bi-person-circle text-black fs-5"></i>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="logout()">
            <i class="bi bi-box-arrow-right me-2"></i> Cerrar sesión
          </button>
        </mat-menu>
      </div>
    </mat-toolbar>

    <div class="container w-100">
      <router-outlet class="w-100"></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
